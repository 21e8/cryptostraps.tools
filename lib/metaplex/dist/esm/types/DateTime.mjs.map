{"version":3,"file":"DateTime.mjs","sources":["../../../src/types/DateTime.ts"],"sourcesContent":["import BN from 'bn.js';\nimport { assert, Opaque, Option } from '@/utils';\nimport { BigNumberValues } from './BigNumber';\n\nexport type DateTimeString = string;\nexport type DateTimeValues = DateTimeString | BigNumberValues | Date;\nexport type DateTime = Opaque<BN, 'DateTime'>;\n\nexport const toDateTime = (value: DateTimeValues): DateTime => {\n  if (typeof value === 'string' || isDateObject(value)) {\n    const date = new Date(value);\n    const timestamp = Math.floor(date.getTime() / 1000);\n    return new BN(timestamp) as DateTime;\n  }\n\n  return new BN(value) as DateTime;\n};\n\nexport const toOptionDateTime = (\n  value: Option<DateTimeValues>\n): Option<DateTime> => {\n  return value === null ? null : toDateTime(value);\n};\n\nexport const isDateTime = (value: any): value is DateTime => {\n  return value?.__opaque__ === 'DateTime';\n};\n\nexport const assertDateTime = (value: any): asserts value is DateTime => {\n  assert(isDateTime(value), 'Expected DateTime type');\n};\n\nconst isDateObject = (value: any): value is Date => {\n  return Object.prototype.toString.call(value) === '[object Date]';\n};\n"],"names":["toDateTime","value","isDateObject","date","Date","timestamp","Math","floor","getTime","BN","toOptionDateTime","isDateTime","__opaque__","assertDateTime","assert","Object","prototype","toString","call"],"mappings":";;;AAQaA,MAAAA,UAAU,GAAIC,KAAD,IAAqC;EAC7D,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BC,YAAY,CAACD,KAAD,CAA7C,EAAsD;AACpD,IAAA,MAAME,IAAI,GAAG,IAAIC,IAAJ,CAASH,KAAT,CAAb,CAAA;IACA,MAAMI,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,OAAL,EAAiB,GAAA,IAA5B,CAAlB,CAAA;AACA,IAAA,OAAO,IAAIC,EAAJ,CAAOJ,SAAP,CAAP,CAAA;AACD,GAAA;;AAED,EAAA,OAAO,IAAII,EAAJ,CAAOR,KAAP,CAAP,CAAA;AACD,EARM;AAUMS,MAAAA,gBAAgB,GAC3BT,KAD8B,IAET;EACrB,OAAOA,KAAK,KAAK,IAAV,GAAiB,IAAjB,GAAwBD,UAAU,CAACC,KAAD,CAAzC,CAAA;AACD,EAJM;AAMMU,MAAAA,UAAU,GAAIV,KAAD,IAAmC;EAC3D,OAAO,CAAAA,KAAK,KAAA,IAAL,IAAAA,KAAK,KAAL,KAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,KAAK,CAAEW,UAAP,MAAsB,UAA7B,CAAA;AACD,EAFM;AAIMC,MAAAA,cAAc,GAAIZ,KAAD,IAA2C;AACvEa,EAAAA,MAAM,CAACH,UAAU,CAACV,KAAD,CAAX,EAAoB,wBAApB,CAAN,CAAA;AACD,EAFM;;AAIP,MAAMC,YAAY,GAAID,KAAD,IAA+B;EAClD,OAAOc,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BjB,KAA/B,CAAA,KAA0C,eAAjD,CAAA;AACD,CAFD;;;;"}