{"version":3,"file":"findCandyMachineByAddress.mjs","sources":["../../../../src/plugins/candyMachineModule/findCandyMachineByAddress.ts"],"sourcesContent":["import { Commitment, PublicKey } from '@solana/web3.js';\nimport {\n  assertAccountExists,\n  Operation,\n  OperationHandler,\n  useOperation,\n} from '@/types';\nimport { CandyMachine, toCandyMachine } from './CandyMachine';\nimport { Metaplex } from '@/Metaplex';\nimport { toCandyMachineAccount } from './accounts';\n\n// -----------------\n// Operation\n// -----------------\n\nconst Key = 'FindCandyMachineByAddressOperation' as const;\nexport const findCandyMachineByAddressOperation =\n  useOperation<FindCandyMachineByAddressOperation>(Key);\nexport type FindCandyMachineByAddressOperation = Operation<\n  typeof Key,\n  FindCandyMachineByAddressInput,\n  CandyMachine\n>;\n\nexport type FindCandyMachineByAddressInput = {\n  address: PublicKey;\n  commitment?: Commitment;\n};\n\n// -----------------\n// Handler\n// -----------------\n\nexport const findCandyMachineByAddressOperationHandler: OperationHandler<FindCandyMachineByAddressOperation> =\n  {\n    handle: async (\n      operation: FindCandyMachineByAddressOperation,\n      metaplex: Metaplex\n    ) => {\n      const { address, commitment } = operation.input;\n      const unparsedAccount = await metaplex\n        .rpc()\n        .getAccount(address, commitment);\n\n      assertAccountExists(unparsedAccount);\n      const account = toCandyMachineAccount(unparsedAccount);\n\n      return toCandyMachine(account, unparsedAccount);\n    },\n  };\n"],"names":["Key","findCandyMachineByAddressOperation","useOperation","findCandyMachineByAddressOperationHandler","handle","operation","metaplex","address","commitment","input","unparsedAccount","rpc","getAccount","assertAccountExists","account","toCandyMachineAccount","toCandyMachine"],"mappings":";;;;;AAYA;AACA;;AAEA,MAAMA,GAAG,GAAG,oCAAZ,CAAA;MACaC,kCAAkC,GAC7CC,YAAY,CAAqCF,GAArC,EADP;AAaP;AACA;AACA;AAEO,MAAMG,yCAA+F,GAC1G;AACEC,EAAAA,MAAM,EAAE,OACNC,SADM,EAENC,QAFM,KAGH;IACH,MAAM;MAAEC,OAAF;AAAWC,MAAAA,UAAAA;KAAeH,GAAAA,SAAS,CAACI,KAA1C,CAAA;AACA,IAAA,MAAMC,eAAe,GAAG,MAAMJ,QAAQ,CACnCK,GAD2B,EAE3BC,CAAAA,UAF2B,CAEhBL,OAFgB,EAEPC,UAFO,CAA9B,CAAA;IAIAK,mBAAmB,CAACH,eAAD,CAAnB,CAAA;AACA,IAAA,MAAMI,OAAO,GAAGC,qBAAqB,CAACL,eAAD,CAArC,CAAA;AAEA,IAAA,OAAOM,cAAc,CAACF,OAAD,EAAUJ,eAAV,CAArB,CAAA;AACD,GAAA;AAdH;;;;"}