{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/auctionHouseModule/plugin.ts"],"sourcesContent":["import { cusper } from '@metaplex-foundation/mpl-auction-house';\nimport type { Metaplex } from '@/Metaplex';\nimport type { ErrorWithLogs, MetaplexPlugin } from '@/types';\nimport { AuctionsClient } from './AuctionsClient';\nimport { AuctionHouseProgram } from './program';\nimport {\n  createAuctionHouseOperation,\n  createAuctionHouseOperationHandler,\n} from './createAuctionHouse';\nimport {\n  createListingOperation,\n  createListingOperationHandler,\n} from './createListing';\nimport {\n  findAuctionHouseByAddressOperation,\n  findAuctionHouseByAddressOperationHandler,\n} from './findAuctionHouseByAddress';\nimport {\n  updateAuctionHouseOperation,\n  updateAuctionHouseOperationHandler,\n} from './updateAuctionHouse';\nimport {\n  loadListingOperation,\n  loadListingOperationHandler,\n} from './loadListing';\nimport {\n  findListingByAddressOperation,\n  findListingByAddressOperationHandler,\n} from './findListingByAddress';\n\nexport const auctionHouseModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Auction House Program.\n    metaplex.programs().register({\n      name: 'AuctionHouseProgram',\n      address: AuctionHouseProgram.publicKey,\n      errorResolver: (error: ErrorWithLogs) =>\n        cusper.errorFromProgramLogs(error.logs, false),\n    });\n\n    const op = metaplex.operations();\n    op.register(\n      createAuctionHouseOperation,\n      createAuctionHouseOperationHandler\n    );\n    op.register(createListingOperation, createListingOperationHandler);\n    op.register(\n      findAuctionHouseByAddressOperation,\n      findAuctionHouseByAddressOperationHandler\n    );\n    op.register(\n      findListingByAddressOperation,\n      findListingByAddressOperationHandler\n    );\n    op.register(loadListingOperation, loadListingOperationHandler);\n    op.register(\n      updateAuctionHouseOperation,\n      updateAuctionHouseOperationHandler\n    );\n\n    metaplex.auctions = function () {\n      return new AuctionsClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    auctions(): AuctionsClient;\n  }\n}\n"],"names":["auctionHouseModule","install","metaplex","programs","register","name","address","AuctionHouseProgram","publicKey","errorResolver","error","cusper","errorFromProgramLogs","logs","op","operations","createAuctionHouseOperation","createAuctionHouseOperationHandler","createListingOperation","createListingOperationHandler","findAuctionHouseByAddressOperation","findAuctionHouseByAddressOperationHandler","findListingByAddressOperation","findListingByAddressOperationHandler","loadListingOperation","loadListingOperationHandler","updateAuctionHouseOperation","updateAuctionHouseOperationHandler","auctions","AuctionsClient"],"mappings":";;;;;;;;;;AA8BO,MAAMA,kBAAkB,GAAG,OAAuB;EACvDC,OAAO,CAACC,QAAD,EAAqB;AAC1B;AACAA,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6B;AAC3BC,MAAAA,IAAI,EAAE,qBADqB;MAE3BC,OAAO,EAAEC,mBAAmB,CAACC,SAFF;MAG3BC,aAAa,EAAGC,KAAD,IACbC,MAAM,CAACC,oBAAP,CAA4BF,KAAK,CAACG,IAAlC,EAAwC,KAAxC,CAAA;KAJJ,CAAA,CAAA;AAOA,IAAA,MAAMC,EAAE,GAAGZ,QAAQ,CAACa,UAAT,EAAX,CAAA;AACAD,IAAAA,EAAE,CAACV,QAAH,CACEY,2BADF,EAEEC,kCAFF,CAAA,CAAA;AAIAH,IAAAA,EAAE,CAACV,QAAH,CAAYc,sBAAZ,EAAoCC,6BAApC,CAAA,CAAA;AACAL,IAAAA,EAAE,CAACV,QAAH,CACEgB,kCADF,EAEEC,yCAFF,CAAA,CAAA;AAIAP,IAAAA,EAAE,CAACV,QAAH,CACEkB,6BADF,EAEEC,oCAFF,CAAA,CAAA;AAIAT,IAAAA,EAAE,CAACV,QAAH,CAAYoB,oBAAZ,EAAkCC,2BAAlC,CAAA,CAAA;AACAX,IAAAA,EAAE,CAACV,QAAH,CACEsB,2BADF,EAEEC,kCAFF,CAAA,CAAA;;IAKAzB,QAAQ,CAAC0B,QAAT,GAAoB,YAAY;AAC9B,MAAA,OAAO,IAAIC,cAAJ,CAAmB,IAAnB,CAAP,CAAA;KADF,CAAA;AAGD,GAAA;;AAjCsD,CAAvB;;;;"}